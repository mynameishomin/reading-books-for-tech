# HTTP 메시지

## 메시지의 흐름

HTTP 메시지의 방향을 의마하는 용어는 아래와 같다.

-   **인바운드**: 클라이언트 -> 원 서버
-   **인바운드**: 원 서버 -> 클라이언트
-   **다운스트림, 업스트림**: 모든 메시지는 업스트림에서 다운스트림으로 흐른다
    발송자는 수신자의 업스트림이다.

## 메시지의 각 부분

HTTP 메시지는 시작줄, 헤더, 본문으로 나뉜다.

**메시지의 세 부분**

|        |                                                |
| ------ | ---------------------------------------------- |
| 시작줄 | HTTP/1.0 200 OK                                |
| 헤더   | Content-type: text/plain<br>Content-length: 19 |
| 본문   | Hi! I'm message!                               |

이때 요청 메시지와 응답 메시지는 시작줄에 차이가 있다.

**요청 메시지**  
<메서드> <요청 URL> <버전>  
<헤더>  
<엔티티 본문>

**응답 메시지**  
<버전> <상태 코드> <사유 구절>  
<헤더>  
<엔티티 본문>

각 부분에 대한 설명은 아래와 같다.

-   **메서드**  
    GET, HEAD, POST, PUT, TRACE, OPTIONS, DELETE 같이 서버가 리소스에 대해 수행해주길 바라는 동작이다.
-   **요청 URL**  
     말 그대로 요청 URL
-   **버전**  
    말 그대로 HTTP 메시지 버전
-   **상태코드**  
    200, 404 등 세자리 숫자로 구성된 상태 코드(성공, 에러 등)
-   **사유 구절**  
    위에서 본 상태코드를 사람이 이해할 수 있게 설명하는 짧은 문구
-   **헤더들**  
    이름, 콜론, 선택적인 공백, 값, CRLF가 순서대로 나타나는 0개 이상의 헤더들. 뒤에서 자세히 설명
-   **엔티티 본문**  
    임의의 데이터 블록, 모든 메시지가 갖는 것은 아니기 때문에 종종 CRLF(빈줄)로 끝난다.


